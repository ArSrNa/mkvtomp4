'\" t
.\"     Title: mkvtomp4
.\"    Author: [see the "AUTHOR" section]
.\" Generator: DocBook XSL Stylesheets v1.75.2 <http://docbook.sf.net/>
.\"      Date: 02/17/2010
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "MKVTOMP4" "1" "02/17/2010" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
mkvtomp4 \- convert H\&.264 mkv files to mp4 files playable on the PS3
.SH "SYNOPSIS"
.sp
\fBmkvtomp4\fR [\fIOPTIONS\fR] [\-\-] \fI<mkvfile>\fR
.sp
\fBmkvtomp4\fR \fB\-\-correct\-profile\-only\fR [\-\-] \fI<rawh264file>\fR
.SH "DESCRIPTION"
.sp
Uses mpeg4ip, mkvtoolnix and ffmpeg to convert troublesome mkv files to mp4\&. The conversion does not re\-encode the video and only re\-encodes the audio if it doesn\(cqt use AAC codec (one can override this behaviour using \fB\-\-audio\-codec\fR)\&. They will be playable on the Sony PS3\&.
.sp
We depend on: \fBmkvtoolnix\fR, \fBmpeg4ip\fR for the conversion\&. \fBffmpeg\fR is optional but required for audio transcoding\&.
.SH "OPTIONS"
.PP
\fB\-\-audio\-bitrate\fR=\fI<bitrate>\fR
.RS 4
If/When converting audio, use the given bitrate\&. e\&.g\&.,
\fI128\fR\&.
.RE
.PP
\fB\-\-audio\-channels\fR=\fI<channels>\fR
.RS 4
If/When converting audio, use
\fI<channels>\fR
channels in the output\&. e\&.g\&.,
\fI5\&.1\fR\&.
.RE
.PP
\fB\-\-audio\-codec\fR=\fI<codec>\fR
.RS 4
If/When converting audio, convert to
\fI<codec>\fR\&. Default is
\fIlibfaac\fR\&. This should be something supported by
\fBffmpeg\fR\&.
.RE
.PP
\fB\-o, \-\-output\fR=\fI<outfile>\fR
.RS 4
Put the completed mp4 into
\fI<outfile>\fR\&.
.RE
.PP
\fB\-\-keep\-temp\-files\fR
.RS 4
Keep all temporary files created while converting\&.
.RE
.PP
\fB\-n, \-\-dry\-run\fR
.RS 4
Don\(cqt run any commands, but print them in a shellquoted format that can be safely copy\-pasted by the user\&.
.RE
.PP
\fB\-\-stop\-before\-extract\-video\fR
.RS 4
Exit before extracting video from
\fI<mkvfile>\fR\&.
.RE
.PP
\fB\-\-stop\-before\-correct\-profile\fR
.RS 4
Exit before correcting profile of raw H\&.264 stream\&.
.RE
.PP
\fB\-\-stop\-before\-extract\-audio\fR
.RS 4
Exit before extracting audio from
\fI<mkvfile>\fR\&.
.RE
.PP
\fB\-\-stop\-before\-convert\-audio\fR
.RS 4
Exit before converting audio previously extracted\&. This will stop even if the audio does not need to be converted\&.
.RE
.PP
\fB\-\-stop\-before\-video\-mp4\fR
.RS 4
Exit before adding the extracted video to the mp4 container\&.
.RE
.PP
\fB\-\-stop\-before\-hinting\-mp4\fR
.RS 4
Exit before hinting the mp4 file with the video track\&.
.RE
.PP
\fB\-\-stop\-before\-audio\-mp4\fR
.RS 4
Exit before adding the extracted (and possibly converted) audio to the mp4 container\&.
.RE
.PP
<mkvfile>
.RS 4
The Matroska (\&.mkv) file you wish to convert\&.
.RE
.PP
\fB\-\-correct\-profile\-only\fR
.RS 4
Only correct the profile
.RE
.PP
<rawh264file>
.RS 4
The raw H\&.264 stream file that will have its profile corrected for use on the PS3\&.
.RE
.SH "EXIT STATUS"
.sp
0 on success and non\-zero on failure\&.
.SH "AUTHOR"
.sp
Gavin Beatty <gavinbeatty@gmail\&.com>
.SH "RESOURCES"
.sp
Website: http://code\&.google\&.com/p/mkvtomp4/
.SH "REPORTING BUGS"
.sp
Please report all bugs and wishes to <gavinbeatty@gmail\&.com>
.SH "COPYING"
.sp
mkvtomp4 Copyright (C) 2010 Gavin Beatty, <gavinbeatty@gmail\&.com>
.sp
Free use of this software is granted under the terms of the GNU General Public License version 3, or at your option, any later version\&. (GPLv3+)
